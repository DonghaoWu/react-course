5/25

1. network tab => disable cache

2. local machine => local router

3. http & https

4. 172.217.10.4:443 port number & socket

5. localStorage/cookie/session

6. http request => html => DOM => CSSOM

7. http protocal is stateless.

8. put => update all, patch => update partically

9. get request can make a create action by adding params in url.

10. status code is generated by a server. If no server, no status code.

11. <!DOCTYPE html> tell the browser this is a html file.

12. I18N => language, L10N => same language different country.

13. critical rendering path:[https://github.com/DonghaoWu/WebDev-tools-demo/blob/master/Performance-Part1/PP1.2-Readme.md](https://github.com/DonghaoWu/WebDev-tools-demo/blob/master/Performance-Part1/PP1.2-Readme.md)

14. css in the head, js in the body

15. - ECMAScript => syntax standard,
    - JavaScript => ECMAScript + Web API
    - Node.js => ECMAScript + NodeAPI/ServerAPI

16. inline/block/inline-block element.

17. Semantic html tag. `Better accessibility + organize code better.`
    - header
    - footer
    - form
    - artical

----------------------------------------------------------------------
### 5/26:

1. 
```css
/*  width = border*2 + content + padding*2 */

box-sizing: border-box; 

/* width = content */

box-sizing: content-box; 
```

2. breakpoint 调试时要注意当时浏览器的显示比例。

3. css reset
```css
*{
    margin:0;
    padding:0;
}
```

4. css normalization

5.  - inline css: hgihest priority
    - id selector: highest priority

6. static(`default`)/ absolute(`look up until a non-static element parent`) / relative(`相对原始位置`) / sticky(`导航缩放时内容不会聚集`) / fixed(`导航缩放时内容会聚集`)

7. flex-grow/ flex-shrink

8. from `float` => `flex`

9. em/rem/%

10. media query `调试时要注意当时浏览器的显示比例。`

11. BEM naming
    - [http://getbem.com/](http://getbem.com/)

12. 


----------------------------------------------------------------------
### 5/27:

1. I would like to know more about BEM naming, like when to use ‘-’, ‘__’ and ‘—’

2. 
    - inline:
    - inline-block:
    - block:

3. css variables

4. `primitive types`:string / number/ boolean /undefined /null

5. null is object, but it is a primitive type.

6. pass by value / pass by refernce

7. compare undefined and null.
```js

```

8. Maybe TypeScript can fix the coercion.

9. 
```js
let obj1 = {};
let obj2 = Object.create({});

class MyObj{
    constructor(name){
        this.name = name;
    }
}

let obj3 = new MyObj('hello');
```

10. prototype chain
```js
let obj = {name:'Dio'};

function foo(input){
    //case 1
    input = {name:'dojo'};// create a new location

    //case 2
    input.name = 'dojo';// pass by reference

    console.log(input);
}
foo(obj);
console.log(obj);
```

11. let / const / var

12. 
- var - function scopr
- let - block scope
- const - block scope

13. 
- let / const cannot be hoinsted?
- temporal dead zone: unreachable variable, only can use if it has been declaration.

14. 
```js
// declaration, enable hoisting
function hello(){

}

// expression, no hoisting
const hello = function(){

}
// arrow, no hoisting
const hello = ()=>{

}
```

15. class will not be hoisted.

16. construcotr function.
```js
function Person(name, age){
    this.name = name;
    this.age = age;
}

let p = new Person('hello', 10);
console.log(p);

```

----------------------------------------------------------------------

5/28

1. 20 ppl per page.

5/31

6/1

1. Constructor function / class

2. 
```js
class Person{
    #name;
    #age;

    constructor(name,age){
        this.#name = name;
        this.#age = age;
    }
    get name(){
        return this.#name;
    }
    set name(newName){
        this.#name = newName;
    }
    walk(){
        console.log(this.#name, this.#age);
    }
}
```

3. prototype.

```js
Person.prototype === p.__proto__;
```

4. inheritance

```js
class Person {
    #name;
    #age;
    constructor(name, age) {
        this.#name = name;
        this.#age = age;
    }
    get name() {
        return this.#name;
    }
    set name(newName) {
        this.#name = newName;
    }
    walk() {
        console.log(this.#name + ' walk around the world! ' + this.#age);
        console.log(this.#name, 'walk around the world!', this.#age);
        console.log(`${this.#name} walk around the world! ${this.#age}`);
    }
}

class Employee extends Person {
    constructor(name, age, company) {
        super(name, age);
        this.company = company;
    }
    walk() {
        console.log(name + ' instance 1 from employee class ');
    }
    walk(salary) {
        console.log(this.#name + ' instance 2 from employee class ' + salary);
    }
}

const e = new Employee('Dio', 200, 'Jump');
console.log(e);
e.walk();

function Employee(name, age, company) {
    const P = Person.bind(this);
    P(name, age); // call apply bind
    this.company = company;
}
Employee.prototype = Person.prototype;
Employee.prototype.constructor = Employee;
```

5. apply / call

6. poly-morph-ism

```js
class Animal {
    constructor(name) {
        this.name = name;
    }
    move() {
        console.log('move');
    }
}
class Fash extends Animal {
    constructor(name) {
        super(name);
    }
    move() {
        return console.log(this.name + ' can swim');
    }
}
class Bird extends Animal {
    constructor(name) {
        super(name);
    }
    move() {
        return console.log(this.name + ' can fly');
    }
}
class Monkey extends Animal {
    constructor(name) {
        super(name);
    }
    move() {
        return console.log(this.name + ' can run');
    }
}

const fish = new Fash('fish');
const bird = new Bird('bird');
const monkey = new Monkey('monkey');
fish.move();
bird.move();
monkey.move();
```

7. abstraction
```js
class Circle {
    #pi = 3.1415926; 
    constructor(radius) {
        this.radius = radius;
    }

    getArea() {
        return this.#pi * this.radius ** 2;
    }
}

const c = new Circle(20);
console.log(c.getArea());
```

8. 
```js
for(let i in arr){
    console.log(arr[i]);
}

for(let el of arr){
    console.log(el);
}
```

9. map 可以创建新数组， forEach 不能。
```js
let arr = [1,2,3];
arr.forEach((num, i, array) => {
    array[i] = num * 2;
});

console.log(arr);
arr.map((num, i, array) => {
    array[i] = num * 2;
})
console.log(arr);

arr = arr.map(x => x + 2);
console.log(arr);
```

10. 
```js
Array.prototype.myForEach = function(){

}
```

11. 
```js
const arr = [3, 2, 1];

Array.prototype.myForEach = function(callbackfn) {
    for (let i = 0; i < this.length; i++) {
        callbackfn(this[i], i, this);
    }
}

arr.myForEach((num, i, array) => {
    array[i] = num * 2;
});

console.log(arr);
```

12. 
```js
Array.prototype.myMap = function(callbackfn) {
    const arr = [];
    for (let i = 0; i < this.length; i++) {
        arr.push(callbackfn(this[i], i, this));
    }
    return arr;
}
```

13. 
```js
const arr = ['a', 'b', 'c'];
console.log(arr.reduce((acc, cur, i, arr) => acc + cur + cur, 'dd')); 

Array.prototype.myReduce= function(callback){

}
```

14. 
```js
// oop: Object-oriented programming

// // encapsulation
// class Person {
//     #name;
//     #age;
//     constructor(name, age) {
//         this.#name = name;
//         this.#age = age;
//     }
//     get name() {
//         return this.#name;
//     }
//     set name(newName) {
//         this.#name = newName;
//     }
//     walk() {
//         console.log(this.#name + ' walk around the world! ' + this.#age);
//         console.log(this.#name, 'walk around the world!', this.#age);
//         console.log(`${this.#name} walk around the world! ${this.#age}`);
//     }
// }

// function Person(name, age) {
//     this.name = name;
//     this.age = age;
// }
// Person.prototype.walk = function() {
//     console.log(this.name + ' walk around the world! ' + this.age);
// }

// const p = new Person('Jojo', 18);
// Person.prototype.__proto__.run = function() {
//     console.log(this.name + ' is running');
// }
// console.log(p);
// p.walk();
// p.run();

// console.log(Person.prototype === p.__proto__);

// const p1 = new Person('Dio', 200);
// console.log(p1);
// p1.walk();
// p1.run();
// p.name = 'Dio';
// console.log(p.name);
// p.walk();

// // // inheritance
// class Employee extends Person {
//     constructor(name, age, company) {
//         super(name, age);
//         this.company = company;
//     }
//     walk() {
//         console.log(this.name + ' instance 1 from employee class ');
//     }
//     walk(salary) {
//         console.log(this.name + ' instance 2 from employee class ' + 20000);
//     }
// }

// function Employee(name, age, company) {
//     const P = Person.bind(this);
//     P(name, age); // call apply bind
//     this.company = company;
// }
// Employee.prototype = Person.prototype;
// Employee.prototype.constructor = Employee;

// const e = new Employee('Dio', 200, 'Jump');
// console.log(e);
// e.walk();

// // Poly-morph-ism : Many Forms
// class Animal {
//     constructor(name) {
//         this.name = name;
//     }
//     move() {
//         console.log('move');
//     }
// }
// class Fash extends Animal {
//     constructor(name) {
//         super(name);
//     }
//     move() {
//         return console.log(this.name + ' can swim');
//     }
// }
// class Bird extends Animal {
//     constructor(name) {
//         super(name);
//     }
//     move() {
//         return console.log(this.name + ' can fly');
//     }
// }
// class Monkey extends Animal {
//     constructor(name) {
//         super(name);
//     }
//     move() {
//         return console.log(this.name + ' can run');
//     }
// }
// const fish = new Fash('fish');
// const bird = new Bird('bird');
// const monkey = new Monkey('monkey');
// fish.move();
// bird.move();
// monkey.move();

// // Abstraction
// class Circle {
//     #pi = 3.1415926; 
//     constructor(radius) {
//         this.radius = radius;
//     }

//     getArea() {
//         return this.#pi * this.radius ** 2;
//     }
// }
// const c = new Circle(20);
// console.log(c.getArea());

// // loop

// for (let i = 0; i < arr.length; i++)
// const arr = [3, 2, 1];

// Array.prototype.myForEach = function(callbackfn) {
//     // console.log('this: ', this);
//     for (let i = 0; i < this.length; i++) {
//         callbackfn(this[i], i, this);
//     }
// }

// Array.prototype.myMap = function(callbackfn) {
//     // console.log('this: ', this);
//     const arr = [];
//     for (let i = 0; i < this.length; i++) {
//         arr.push(callbackfn(this[i], i, this));
//     }
//     return arr;
// }

// Array.prototype.myFilter = function(callbackfn) {
//     // console.log('this: ', this);
//     const arr = [];
//     for (let i = 0; i < this.length; i++) {

//         if (callbackfn(this[i], i, this)) {
//             arr.push(this[i])
//         }
//     }
//     return arr;
// }

// // mySome, myEvery, myReduce

// const arr = ['a', 'b', 'c'];
// console.log(arr.reduce((acc, cur, i, arr) => acc + cur + cur, 'dd')); // 'ddaabbcc'
// // 'dd' + a + a = 'ddaa' + b + b = ddaabb + c + c 

// for (let i in arr) {
//     console.log(arr[i]);
// }

// console.log(arr.myFilter((num, i, array) => {
//     return num > 1;
// }));


// const obj = {name: 'Jojo', age: 18};

// for (let key in obj) {
//     console.log(key, obj[key]);
// }

// // object copy

// shallow copy & deep copy

```

15. 
```js
// date: new Date(),
// fn: ()=>{},

const obj2 = JSON.parse(JSON.stringfy(obj));
```

16. solution: Lodash

```bash
$ npm i lodash.clonedeep
```

17. 
```js
const _ = require('lodash');
const obj3 = _.cloneDeep(obj);
console.log(obj, obj3);
```

6/3:

1. closure
- It is kind of like some function private variables that you don’t want it to expose to other users.
```js
fucntion foo(){
    console.log('hello');
    var a = 5;
    return funtion(){
        console.log(a);
    }
}

let a = foo();
console.log(a);
```

2. async event
```js
console.log(1);
setTimeout(()=>{
    console.log(2);
},1000);
console.log(3);
setTimeout(()=>{
    console.log(4);
},0);

// block code and non-block code
function foo(){
    for(var i = 0; i < 5; i++){
        setTimeout(()=>{
            console.log(i);
        }, i * 1000)
    }
}
foo();
```

- Could you explain a little bit more about the difference when use let?

```js
function foo(){
    console.log('foo');
}
function randomTimer(){
    return Math.random()*1000;
}
function callFooWithTimer(){
    setTimeout(roo, randomTimer()); //Composition
}

function call2(cb){
    let timer = randomTimer();
    console.log(timer);
    setTimerout(cb, timer);
}
```

2. callback hell/ api, higher order function
```js
function getUser(userID, cb) {
  let data;
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function () {
    if (this.readyState == 4 && this.status == 200) {
      data = JSON.parse(this.responseText);
      cb(data);
    }
  };
  xhttp.open(
    "GET",
    "https://jsonplaceholder.typicode.com/todos/" + userID,
    true
  );
  xhttp.send();
}
getUser(1, (data1) => {
  //More logic
  logMsg(data1);
  getUser(2, (data2) => {
    logMsg(data2);
    getUser(3, (data3) => {
      logMsg(data3);
    });
  });
});

function logMsg(msg) {
  console.warn(msg);
}
```

3. destructure, declare variables
```js
let person = {
    age:20,
    name:dio
}

// array declaration
const {age, name} = person;

const arr = [{name:'dio'}, ()=>{}];

const [person, movement] = arr;
```

4. arrow function
```js
function foo(){
    console.log('Normal function:');
    console.log(this);
}

let foo2 = ()=>{
    console.log('Arrow function');
    console.log(this);
}

foo();
foo2();
```

5. binding, inpresive, expresive
```js
this.x = 9;
const myObj = {
    x:81,
    getX:function(){
        rturn this.x;
    }
};

console.log(myObj.getX());
const retriveX = myObj.getX;
console.log(retriveX());
```

```js
function foo(){
    console.log('Normal function:');
    console.log(this);
}.bind(this);

foo();

let foo2 = ()=>{
    console.log('Arrow function');
    console.log(this);
}

foo2();
```

```js
const obj ={
    foo:function(){
        console.log(this);
    },
    foo2:()=>{
        console.log(this);
    }
}

obj.foo();
obj.foo2();

const obj ={
    foo:function(){
        console.log(this);
    }.bind(this),
    foo2:()=>{
        console.log(this);
    }
}

obj.foo();
obj.foo2();
```

- if you use function in obj,it is better to use function declaration not arrow function.

6. IIFE
```js
(function foo(){
    console.log('hello')
})();

const controller = (function(){
    let a = 5;
    return{
        init:()=>{
            console.log('init: ', a);
        },
    };
})();

controller.init();
```

7. Currying function
```js
function add(a){
    return function(b){
        return a + b;
    };
}

console.log(add(1)(2));

const add = (...a) =>(...b) =>(...c)=>{
    return [...a, ...b, ...c].reduce((acc, cur) => acc + cur, 0);
}
```

6/7:

1. Promise
```js
const p = new Promise((resolve, reject)=>{
    console.log('Hello');
});

const p = new Promise((resolve, reject) =>{
    let timer = randomTimer();
    setTimeout(()=>{
        resolve('hello')
    })
    .then((data)=>{
        logMsg(data);
    })
    .then((data)=>{
        logMsg(data);
    })
})

```

- Promise 会运行 console.log，当它被定义的时候。

```js
function getUser(userID){
    return new Promise((resolve, reject) =>{
        let data;
        let xttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function(){
            if(this.readyState == 4 && this.status == 200){
                data = JSON.parse(this.responseText);
                resolve(data);
            }
        };
        xhttp.open(
            "GET",
            'api'+userID,
            true
        );
        xhttp.send();
    });
}

getUser(1)
.then(data=>{
    console.log(data);
    return getUser(2);
})
.then(data=>{
    console.og(data);
});
```

- `意味着 getUser(1),然后结果是 return a promise，过程是运行 promise 的 parameter，也就是 callback function。`

2. class & promise
```js
class MyPromise{
    constructor(cb){
        this.resolve = function(){
            const curThenCb = this.thenCbQueue.shift();
            curThenCb(data);
        };
        this.reject = function(){

        };
        this.thenCbQueue = [];
        cb(this.resolve, this.reject);
    }

    then(thenCb){
        this.thenCbQueue.push(thenCb);
    }
}

const p = new MyPromise((res,rej)=>{
    res('Hello')
})
.then(data=>{
    console.log(data);
})
```

- I would like the purpose of this demonstration about MyPromise, I don’t get the point.

```js
// 在运行以下的代码时，cb 是直接运行的。
const p = new Promise(cb);
```

6/9:

1. promise 中的 catch 可以用来接住之前的 throw new Error，也可以用来接住 reject 中的信息，还可以接住 api 返回的 error。

2. At the beginning, ‘this’ in personIntro represent global object, after bind method in line 101, ‘this’ in personIntro change to person object.

3. bind/call/apply, simple explanation.

```js
//bind(), apply(), call()
const person = {
  firstName: "Ana",
  lastName: "Xin",
  getFullName: function () {
    let fullName = this.firstName + " " + this.lastName;
    return fullName;
  },
};

let personIntro = function (hobby, food) {
  console.log(
    this.firstName +
      " " +
      this.lastName +
      " " +
      " loves " +
      hobby +
      " and " +
      food
  );
};

let myIntro = personIntro.bind(person);
myIntro("video games", "sushi");

personIntro.apply(person, ["painting", "fruits"]);

personIntro.call(person, "painting", "fruits");
```

4. fetch is an async function that return an promise.

```js
const fetch = (url) =>{
    return new promise((res, rej)=>{
        const xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function(){
            if(this.readyState == 4 && this.status == 200){
                const response = {
                    json:function(){
                        return new Promise((resolve, reject)=>{
                            resolve(JSON.parse(xhttp.responseText))
                        });
                    };
                    res(response);
                }
            }
        }
        xhttp.open('GET', url,true);
        xhttp.send();
    });
}
```

5. promise.all, to control the sequence.

```js
const promise1 = fetch("https://jsonplaceholder.typicode.com/todos/1").then(
  (response) => response.json()
);
const promise2 = fetch("https://jsonplaceholder.typicode.com/todos/2").then(
  (response) => response.json()
);
const promise3 = fetch("https://jsonplaceholder.typicode.com/todos/3").then(
  (response) => response.json()
);

Promise.all([promise1, promise2, promise3]).then((values) => {
  console.log(values);
});
```

- Could you talk a little bit about which part is more important in the foundation session? Or which part we should focus on? BTW, I like your course.


6/9:

1. todo list
- js css html
- json placeholder
- fetch
```js

```

2. google font, copy the font link

3. font-family:

```css
:root {
    --height-header: 60px;
    --height-todolist: 300px;
    --height-todolist-header: 30px;

    --width-todolist: 400px;

    --color-green: rgb(30, 255, 0);
    --color-red-button: rgb(148, 21, 21);
    --color-red-li-hover: rgb(27, 172, 8)
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Dancing Script', cursive;
}

html,
body {
    height: 100%;
    width: 100%;
    overflow: hidden;
}

.header {
    position: fixed;
    background: linear-gradient(to right, black, var(--color-green));
    height: var(--height-header);
    width: 100%;
    color: white;
    font-size: 2rem;
    text-transform: capitalize;
    line-height: var(--height-header);
    letter-spacing: 3px;
    padding-left: 10px;
    user-select: none;
}

.content {
    display: flex;
    justify-content: center;
    align-items: center;
    
    height: 100%;
    width: 100%;
    background-color: bisque;
}
.todolist {
    height: var(--height-todolist);
    width: var(--width-todolist);
    background-color: var(--color-green);
    box-shadow: 10px 10px 10px black;
    border-radius: 10px;
}

.todolist__header,
.todolist__input,
ul li {
    height: var(--height-todolist-header);
    width: 100%;
    outline: none;
    border: none;
    font-size: 1rem;
    text-transform: capitalize;
    line-height: var(--height-todolist-header);
    letter-spacing: 3px;
    padding-left: 10px;
    user-select: none;
    list-style: none;
}

.todolist__header {
    font-size: 1.5rem;
    text-align: center;
}

.todolist__content {
    height: calc(var(--height-todolist) - var(--height-todolist-header) * 2);
    overflow: auto;
}

ul li span {
    width: 100%;
    overflow: hidden;
}
```

```html
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="preconnect" href="https://fonts.gstatic.com" />
        <link
            href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./index.css" />
        <script async src="./index.js"></script>
    </head>
    <body>
        <header class="header">welcome to antra</header>
        <main class="content">
            <section class="todolist">
                <header class="todolist__header">todo list</header>
                <input
                    type="text"
                    class="todolist__input"
                    placeholder="input here"
                />
                <ul class="todolist__content">

                    <li>task1</li>
                    <li>task1</li>
                    <li>task1</li>
                </ul>
            </section>
        </main>
    </body>
</html>

```

- better to use `NodeList`

- innerHTML
- appenChild

```js
// Model View Controller

const todoAPI = (() => {

    const baseUrl = 'https://jsonplaceholder.typicode.com';
    const todoPath = 'todos';

    const getAllTodos = () =>
        fetch([baseUrl, todoPath].join('/'))
            .then((response) => response.json());

    return {
        getAllTodos
    }
})();

const View = (() => {

    const domString = {
        todolist: 'todolist__content'
    }
    
    const render = (element, htmlString) => {
        element.innerHTML = htmlString;
    }

    const createTodoTmp = (todoArray) => {
        let htmlString = '';
        todoArray.forEach(ele => {
            htmlString += `
                <li>
                    <span>
                        ${ele.title}
                    </span>
                </li>
            `;
        });
        return htmlString;
    }

    return {
        domString,
        render,
        createTodoTmp
    }
})();

const Model = ((api) => {
    class Todo {
        constructor(userId, id, title, completed) {
            this.userId = userId;
            this.id = id;
            this.title = title;
            this.completed = completed;
        }
    }

    const getAllTodos = api.getAllTodos;

    return {
        getAllTodos,
        Todo
    }
})(todoAPI);

const AppController = ((model, view) => {

    const todoElement = document.querySelector('.' + view.domString.todolist);

    const init = () => {
        model.getAllTodos().then( data => {
            const todoTmp = view.createTodoTmp(data);
            view.render(todoElement, todoTmp);
        });
    }

    return {
        init
    }
})(Model, View);

AppController.init();
```